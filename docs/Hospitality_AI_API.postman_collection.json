{
  "info": {
    "name": "Hospitality AI - Comprehensive Collection",
    "description": "Complete Postman collection for Hospitality AI. Covers admin (HTML), dashboard (HTML), Agent Core (/api/, /api/status/, /api/agent/ JSON + CSV), Safe Agent (/api/agent/safe/), and Chat (/chat/api/). Each request includes descriptions, headers, and example payloads for quick testing.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8000" },
    { "key": "kpiEntitled", "value": "true" }
  ],
  "item": [
    {
      "name": "Admin",
      "description": "Django admin UI endpoints (HTML).",
      "item": [
        {
          "name": "Admin Root (GET)",
          "request": {
            "method": "GET",
            "description": "Loads the admin login page.",
            "header": [ {"key":"Accept","value":"text/html"} ],
            "url": "{{baseUrl}}/admin/"
          },
          "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [
            "pm.test('200 OK or 302', function(){ pm.expect([200,302]).to.include(pm.response.code); });"
          ] } } ]
        }
      ]
    },
    {
      "name": "Dashboard",
      "description": "Dashboard pages (HTML). Useful for quick availability checks.",
      "item": [
        { "name": "Home (GET)", "request": { "method": "GET", "description": "Site root mapped to dashboard.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Dashboard (GET)", "request": { "method": "GET", "description": "Main dashboard page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Chat (GET)", "request": { "method": "GET", "description": "Dashboard chat page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/chat/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "KPI Analysis (GET)", "request": { "method": "GET", "description": "KPI analysis dashboard page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/kpi-analysis/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "HR Solutions (GET)", "request": { "method": "GET", "description": "HR solutions page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/hr-solutions/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Beverage (GET)", "request": { "method": "GET", "description": "Beverage management page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/beverage/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Menu Engineering (GET)", "request": { "method": "GET", "description": "Menu engineering page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/menu-engineering/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Recipes (GET)", "request": { "method": "GET", "description": "Recipes page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/recipes/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Strategic Planning (GET)", "request": { "method": "GET", "description": "Strategic planning page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/strategic-planning/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "KPI Dashboard (GET)", "request": { "method": "GET", "description": "KPI dashboard page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/kpi-dashboard/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] },
        { "name": "Modern KPI (GET)", "request": { "method": "GET", "description": "Modern KPI dashboard page.", "header": [ {"key":"Accept","value":"text/html"} ], "url": "{{baseUrl}}/dashboard/modern-kpi/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [ "pm.test('200 OK', ()=>pm.response.to.have.status(200));" ] } } ] }
      ]
    },
    {
      "name": "Agent Core",
      "description": "Core agent endpoints: index, status, unified agent JSON/CSV.",
      "item": [
        {
          "name": "Index (GET)",
          "request": {
            "method": "GET",
            "description": "Returns API overview and available_tasks. Include X-KPI-Analysis-Entitled to list premium tasks.",
            "header": [ {"key":"Accept","value":"application/json"}, {"key":"X-KPI-Analysis-Entitled","value":"{{kpiEntitled}}"} ],
            "url": "{{baseUrl}}/api/"
          },
          "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [
            "pm.test('200 OK', function () { pm.response.to.have.status(200); });",
            "pm.test('JSON body', function () { pm.response.to.be.json; });"
          ] } } ]
        },
        {
          "name": "Status (GET)",
          "request": {
            "method": "GET",
            "description": "Health/status endpoint.",
            "header": [ {"key":"Accept","value":"application/json"} ],
            "url": "{{baseUrl}}/api/status/"
          },
          "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [
            "pm.test('200 OK', function () { pm.response.to.have.status(200); });",
            "pm.test('JSON body', function () { pm.response.to.be.json; });"
          ] } } ]
        },
        {
          "name": "Agent (JSON tasks)",
          "description": "Unified JSON endpoint POST /api/agent/. Body: { task: string, payload: object }. Premium tasks require X-KPI-Analysis-Entitled.",
          "item": [
            {
              "name": "forecast",
              "request": {
                "method": "POST",
                "description": "Generates sales forecast. Payload: { sales_data: number[] }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"task\": \"forecast\",\n  \"payload\": { \n    \"sales_data\": [1000, 1200, 1100, 1300, 1250] \n  }\n}"
                },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "hr_retention",
              "request": {
                "method": "POST",
                "description": "Analyzes HR retention. Payload: { turnover_rate: number, industry_avg?: number }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"hr_retention\",\n  \"payload\": { \n    \"turnover_rate\": 65.0, \n    \"industry_avg\": 70.0 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "inventory_variance",
              "request": {
                "method": "POST",
                "description": "Calculates inventory variance. Payload: { expected_usage: number, actual_usage: number }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"inventory_variance\",\n  \"payload\": { \n    \"expected_usage\": 500, \n    \"actual_usage\": 550 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "labor_cost",
              "request": {
                "method": "POST",
                "description": "Calculates labor cost. Payload: { total_sales: number, labor_hours: number, hourly_rate: number }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"labor_cost\",\n  \"payload\": { \n    \"total_sales\": 25000, \n    \"labor_hours\": 800, \n    \"hourly_rate\": 18 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "liquor_variance",
              "request": {
                "method": "POST",
                "description": "Calculates liquor variance. Payload: { expected_oz: number, actual_oz: number }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"liquor_variance\",\n  \"payload\": { \n    \"expected_oz\": 128, \n    \"actual_oz\": 140 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "pmix_report",
              "request": {
                "method": "POST",
                "description": "Generates product mix analysis report. Payload: { items: array }.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"pmix_report\",\n  \"payload\": { \n    \"items\": [ {\n      \"name\": \"Burger\", \n      \"sales\": 120, \n      \"cost\": 3.5 \n    }, {\n      \"name\": \"Pizza\", \n      \"sales\": 80, \n      \"cost\": 4.0 \n    } ] \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "kpi_summary (entitlement)",
              "request": {
                "method": "POST",
                "description": "Generates KPI summary. Requires entitlement header.",
                "header": [ {"key":"Content-Type","value":"application/json"}, {"key":"X-KPI-Analysis-Entitled","value":"{{kpiEntitled}}"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"kpi_summary\",\n  \"payload\": { \n    \"total_sales\": 50000, \n    \"labor_cost\": 15000, \n    \"food_cost\": 12000, \n    \"hours_worked\": 900 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200/403', function(){ pm.expect([200,403]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "labor_cost_analysis (entitlement)",
              "request": {
                "method": "POST",
                "description": "Advanced labor cost analysis (requires entitlement).",
                "header": [ {"key":"Content-Type","value":"application/json"}, {"key":"X-KPI-Analysis-Entitled","value":"{{kpiEntitled}}"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"labor_cost_analysis\",\n  \"payload\": { \n    \"total_sales\": 50000, \n    \"labor_cost\": 15000, \n    \"hours_worked\": 900, \n    \"target_labor_percent\": 30 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200/403', function(){ pm.expect([200,403]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "prime_cost_analysis (entitlement)",
              "request": {
                "method": "POST",
                "description": "Prime cost analysis (requires entitlement).",
                "header": [ {"key":"Content-Type","value":"application/json"}, {"key":"X-KPI-Analysis-Entitled","value":"{{kpiEntitled}}"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"prime_cost_analysis\",\n  \"payload\": { \n    \"total_sales\": 50000, \n    \"labor_cost\": 15000, \n    \"food_cost\": 12000, \n    \"target_prime_percent\": 60 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200/403', function(){ pm.expect([200,403]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "sales_performance_analysis (entitlement)",
              "request": {
                "method": "POST",
                "description": "Sales performance analysis (requires entitlement).",
                "header": [ {"key":"Content-Type","value":"application/json"}, {"key":"X-KPI-Analysis-Entitled","value":"{{kpiEntitled}}"} ],
                "body": { "mode": "raw", "raw": "{\n  \"task\": \"sales_performance_analysis\",\n  \"payload\": { \n    \"total_sales\": 50000, \n    \"labor_cost\": 15000, \n    \"food_cost\": 12000, \n    \"hours_worked\": 900, \n    \"previous_sales\": 45000 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200/403', function(){ pm.expect([200,403]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            }
          ]
        },
        {
          "name": "Agent (CSV uploads)",
          "description": "CSV tasks via multipart/form-data: fields task and file (.csv only).",
          "item": [
            {
              "name": "product_mix CSV",
              "request": {
                "method": "POST",
                "description": "Product mix analysis from CSV.",
                "header": [ ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    { "key": "task", "type": "text", "value": "product_mix" },
                    { "key": "file", "type": "file", "src": "data/test_menu.csv" }
                  ]
                },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 400', function(){ pm.expect([200,400]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "kpi_analysis CSV",
              "request": {
                "method": "POST",
                "description": "KPI analysis CSV processor.",
                "header": [ ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    { "key": "task", "type": "text", "value": "kpi_analysis" },
                    { "key": "file", "type": "file", "src": "data/test_menu.csv" }
                  ]
                },
                "url": "{{baseUrl}}/api/agent/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 400', function(){ pm.expect([200,400]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            }
          ]
        },
        {
          "name": "Agent Safe (JSON)",
          "description": "Safe endpoint: { service, subtask, params }. Supports optional file via multipart.",
          "item": [
            {
              "name": "kpi.labor_cost",
              "request": {
                "method": "POST",
                "description": "KPI labor cost via safe registry.",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"service\": \"kpi\",\n  \"subtask\": \"labor_cost\",\n  \"params\": { \n    \"total_sales\": 25000, \n    \"labor_cost\": 7500, \n    \"hours_worked\": 800 \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/safe/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK', ()=>pm.response.to.have.status(200));","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            },
            {
              "name": "menu.questions",
              "request": {
                "method": "POST",
                "header": [ {"key":"Content-Type","value":"application/json"} ],
                "body": { "mode": "raw", "raw": "{\n  \"service\": \"menu\",\n  \"subtask\": \"questions\",\n  \"params\": { \n    \"context\": \"New winter menu update\", \n    \"question\": \"What are top menu engineering opportunities?\" \n  }\n}" },
                "url": "{{baseUrl}}/api/agent/safe/"
              },
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });","pm.test('JSON body', ()=>pm.response.to.be.json);"] } } ]
            }
          ]
        }
      ]
    },
    {
      "name": "Chat Assistant",
      "item": [
        {
          "name": "chat/api (form-data)",
          "request": {
                "description": "Menu engineering questions helper.",
            "method": "POST",
            "header": [ ],
            "body": {
              "mode": "formdata",
              "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });"] } } ]
            },
            { "name": "hr.staff_retention", "request": { "method": "POST", "description": "HR staff retention", "header": [ {"key":"Content-Type","value":"application/json"} ], "body": { "mode": "raw", "raw": "{\n  \"service\": \"hr\",\n  \"subtask\": \"staff_retention\",\n  \"params\": { \n    \"turnover_rate\": 65, \n    \"industry_avg\": 70 \n  }\n}" }, "url": "{{baseUrl}}/api/agent/safe/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });"] } } ] },
            { "name": "beverage.liquor_cost", "request": { "method": "POST", "description": "Beverage liquor cost", "header": [ {"key":"Content-Type","value":"application/json"} ], "body": { "mode": "raw", "raw": "{\n  \"service\": \"beverage\",\n  \"subtask\": \"liquor_cost\",\n  \"params\": { \n    \"expected_oz\": 128, \n    \"actual_oz\": 140 \n  }\n}" }, "url": "{{baseUrl}}/api/agent/safe/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });"] } } ] },
            { "name": "recipe.costing", "request": { "method": "POST", "description": "Recipe costing", "header": [ {"key":"Content-Type","value":"application/json"} ], "body": { "mode": "raw", "raw": "{\n  \"service\": \"recipe\",\n  \"subtask\": \"costing\",\n  \"params\": { \n    \"ingredient_cost\": 3.5, \n    \"portion_cost\": 5.0 \n  }\n}" }, "url": "{{baseUrl}}/api/agent/safe/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });"] } } ] },
            { "name": "strategic.sales_forecasting", "request": { "method": "POST", "description": "Strategic sales forecasting", "header": [ {"key":"Content-Type","value":"application/json"} ], "body": { "mode": "raw", "raw": "{\n  \"service\": \"strategic\",\n  \"subtask\": \"sales_forecasting\",\n  \"params\": { \n    \"sales_data\": [1000, 1200, 1100, 1300] \n  }\n}" }, "url": "{{baseUrl}}/api/agent/safe/" }, "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": ["pm.test('200 OK or 404', function(){ pm.expect([200,404]).to.include(pm.response.code); });"] } } ] }
              "formdata": [
                { "key": "message", "type": "text", "value": "Hello! Summarize prime cost for me." }
              ]
            },
            "url": "{{baseUrl}}/chat/api/"
          },
      "description": "Chat API and UI endpoints.",
          "event": [ { "listen": "test", "script": { "type": "text/javascript", "exec": [
            "pm.test('200 OK or 400', function(){ pm.expect([200,400]).to.include(pm.response.code); });",
            "pm.test('JSON body', function(){ pm.response.to.be.json; });",
            "pm.test('Has response or error', function(){ const j = pm.response.json(); pm.expect(j.response || j.error).to.exist; });"
          ] } } ]
            "description": "Chats with the assistant. Form-data: message=<text>.",
        }
      ]
    }
  ]
}
